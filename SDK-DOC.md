> TeleBotKit SDK文档  
> 更新日期：2024-07-30 20:27:25  
> 版本：10  
> 如有错误，联系 https://t.me/secp256k0  
 

## 目录
- [目录](#目录)
- [TdApi](#tdapi)
  - [日志](#日志)
  - [错误日志](#错误日志)
  - [释放返回指针](#释放返回指针)
  - [下载文件](#下载文件)
- [TdBot](#tdbot)
- [TdMessage](#tdmessage)
  - [删除消息](#删除消息)
  - [查询机器人回调响应](#查询机器人回调响应)
  - [转发消息](#转发消息)
- [TdProxy](#tdproxy)
  - [添加代理](#添加代理)
  - [禁用代理](#禁用代理)
  - [编辑代理](#编辑代理)
  - [启用代理](#启用代理)
  - [获取代理列表](#获取代理列表)
  - [获取代理链接](#获取代理链接)
  - [测试代理](#测试代理)
  - [删除代理](#删除代理)
  - [测试代理与DC](#测试代理与dc)
- [TdChat](#tdchat)
  - [搜索聊天对象](#搜索聊天对象)
  - [查询公共聊天](#查询公共聊天)
  - [搜索公共聊天](#搜索公共聊天)
  - [查询聊天对象](#查询聊天对象)
  - [加载聊天列表](#加载聊天列表)
  - [获取聊天列表](#获取聊天列表)
  - [加载所有用户联系人](#加载所有用户联系人)
- [TdGroup](#tdgroup)
  - [创建超级群](#创建超级群)
  - [加入聊天](#加入聊天)
  - [处理聊天加入请求](#处理聊天加入请求)
- [TdOption](#tdoption)
  - [获取配置项](#获取配置项)
  - [设置用户在线状态](#设置用户在线状态)
  - [设置逻辑型配置项](#设置逻辑型配置项)
  - [设置空型配置项](#设置空型配置项)
  - [设置整型配置项](#设置整型配置项)
  - [设置字符型配置项](#设置字符型配置项)
- [TdUser](#tduser)
  - [获取自身信息](#获取自身信息)
  - [获取用户信息](#获取用户信息)
  - [获取用户完整信息](#获取用户完整信息)
- [TdObjectFactory](#tdobjectfactory)
  - [FreeObject](#freeobject)
  - [linkPreviewOptions](#linkpreviewoptions)
  - [inputMessageText](#inputmessagetext)
  - [inputMessagePhoto](#inputmessagephoto)
  - [inputMessageReplyToMessage](#inputmessagereplytomessage)
  - [inputMessageReplyToExternalMessage](#inputmessagereplytoexternalmessage)
  - [inputMessageReplyToStory](#inputmessagereplytostory)
  - [messageSendOptions](#messagesendoptions)
  - [inputFileId](#inputfileid)
  - [inputFileLocal](#inputfilelocal)
  - [inputFileRemote](#inputfileremote)
  - [callbackQueryPayloadData](#callbackquerypayloaddata)
  - [callbackQueryPayloadDataWithPassword](#callbackquerypayloaddatawithpassword)
  - [callbackQueryPayloadGame](#callbackquerypayloadgame)
  - [chatAdministratorRights](#chatadministratorrights)
  - [chatPermissions](#chatpermissions)
- [TdMessageSent](#tdmessagesent)
  - [发送消息](#发送消息)
  - [发送原始消息](#发送原始消息)
  - [发送文本消息](#发送文本消息)
  - [发送图片消息](#发送图片消息)
- [TdMessageFormat](#tdmessageformat)
  - [转换为Markdown文本](#转换为markdown文本)
- [TdMessageEdit](#tdmessageedit)
  - [编辑媒体消息标题](#编辑媒体消息标题)
- [TdAccountMap](#tdaccountmap)
  - [GetClient](#getclient)
  - [GetClientByAccount](#getclientbyaccount)
  - [GetAccountId](#getaccountid)
- [TdChatMember](#tdchatmember)
  - [获取超级群成员列表](#获取超级群成员列表)
  - [封禁群成员](#封禁群成员)
  - [解封群成员](#解封群成员)
  - [踢出群成员](#踢出群成员)
  - [限制群成员](#限制群成员)
  - [设置管理员](#设置管理员)


## TdApi
### 日志

> 说明：已废弃；给前端发送日志   
> 原名：TdApi.LogInfo  
> 返回：  

| 参数名    | 类型     | 传址 | 可空 | 说明     |
| --------- | -------- | ---- | ---- | -------- |
| clientId  | 整数型   | 否   | 否   | 客户端Id |
| accountId | 长整数型 | 否   | 否   | 账号Id   |
| log       | 文本型   | 否   | 否   |          |


---


### 错误日志

> 说明：已废弃；给前端发送日志   
> 原名：TdApi.LogError  
> 返回：  

| 参数名    | 类型     | 传址 | 可空 | 说明     |
| --------- | -------- | ---- | ---- | -------- |
| clientId  | 整数型   | 否   | 否   | 客户端Id |
| accountId | 长整数型 | 否   | 否   | 账号Id   |
| log       | 文本型   | 否   | 否   |          |


---


### 释放返回指针

> 说明：释放接口返回的结果指针   
> 原名：TdApi.freeResponse  
> 返回：  

| 参数名    | 类型   | 传址 | 可空 | 说明               |
| --------- | ------ | ---- | ---- | ------------------ |
| pRespData | 整数型 | 否   | 否   | 接口返回的结果指针 |


---


### 下载文件

> 说明：从云下载文件。下载进度和下载完成将通过更新文件更新通知。   
> 原名：TdApi.downloadFile  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                                                                                                                      |
| ------------ | -------- | ---- | ---- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                                                                                                                  |
| fileId       | 整数型   | 否   | 否   | 要下载的文件的标识符。                                                                                                                    |
| priority     | 整数型   | 否   | 是   | 下载优先级（1-32）。优先级越高，文件下载越早。如果两个文件的优先级相同，则最后一个调用downloadFile/addFileToDownloads的文件将优先下载     |
| offset       | 长整数型 | 否   | 是   | 需要从该位置开始下载文件的起始位置                                                                                                        |
| limit        | 长整数型 | 否   | 是   | 从“offset”位置开始需要下载的字节数；使用0表示无限制下载                                                                                   |
| synchronous  | 逻辑型   | 否   | 是   | 传递true仅在文件下载成功、失败、被取消或发送具有不同offset/limit参数的新downloadFile请求后返回响应；传递false在下载开始后立即返回文件状态 |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。                                                                                                      |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                                                                            |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                                                                                                                        |


---



## TdBot

## TdMessage
### 删除消息

> 说明：删除指定的消息。   
> 原名：TdMessage.deleteMessages  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                                                             |
| ------------ | -------- | ---- | ---- | -------------------------------------------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                                                         |
| chatId       | 长整数型 | 否   | 否   | 要转发消息的聊天标识符                                                           |
| messageIds   | 文本型   | 否   | 否   | 要删除的消息标识符列表。例如"[11111,22222]"                                      |
| revoke       | 逻辑型   | 否   | 是   | 传递true以删除所有聊天成员客户端中的消息。对于超级群组、频道和秘密聊天始终为true |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。                                             |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                   |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                                                               |


---


### 查询机器人回调响应

> 说明：向机器人发送回调查询并返回答案。如果机器人在查询超时之前未能回答查询，则返回错误，代码为502。   
> 原名：TdMessage.getCallbackQueryAnswer  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                           |
| ------------ | -------- | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                       |
| chatId       | 长整数型 | 否   | 否   | 聊天标识符                                     |
| messageId    | 长整数型 | 否   | 否   | 源消息的标识符                                 |
| payload      | 长整数型 | 否   | 否   | [CallbackQueryPayload]对象Id；                 |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                             |


---


### 转发消息

> 说明：转发之前发送的消息。以与传入的message_ids中的消息标识符相同的顺序返回转发的消息。如果消息无法转发，将返回null而不是消息   
> 原名：TdMessage.forwardMessages  
> 返回：逻辑型  

| 参数名          | 类型     | 传址 | 可空 | 说明                                                                                                                                                 |
| --------------- | -------- | ---- | ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| clientId        | 整数型   | 否   | 否   | 客户端ID                                                                                                                                             |
| chatId          | 长整数型 | 否   | 否   | 要转发消息的聊天标识符                                                                                                                               |
| fromChatId      | 长整数型 | 否   | 否   | 要从中转发消息的聊天标识符                                                                                                                           |
| messageIds      | 文本型   | 否   | 否   | 要转发的消息标识符列表。例如"[11111,22222]"消息标识符必须严格按递增顺序排列。最多可以同时转发100条消息。仅当message.can_be_forwarded时才可以转发消息 |
| messageThreadId | 长整数型 | 否   | 是   | 如果不为0，则为消息将发送的消息讨论标识符；仅适用于论坛讨论                                                                                          |
| options         | 长整数型 | 否   | 是   | [messageSendOptions]对象Id；用于发送消息的选项；传null使用默认选项                                                                                   |
| sendCopy        | 逻辑型   | 否   | 是   | 传true表示复制消息内容而不引用原始发送者。如果消息被转发到秘密聊天或本地聊天，始终为true                                                             |
| removeCaption   | 逻辑型   | 否   | 是   | 传true表示删除消息副本的媒体标题。如果send_copy为false，则忽略                                                                                       |
| isSync          | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。                                                                                                                 |
| responseData    | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                                                                                       |
| responseLen     | 整数型   | 是   | 是   | 接口返回的结果长度                                                                                                                                   |


---



## TdProxy
### 添加代理

> 说明：添加网络请求的代理服务器。可以在授权前调用。   
> 原名：TdProxy.addProxy  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| server       | 文本型 | 否   | 否   | 代理服务器 IP 地址。                           |
| port         | 整数型 | 否   | 否   | 代理服务器端口。                               |
| proxyType    | 整数型 | 否   | 否   | 1：http                                        |
| userName     | 文本型 | 否   | 是   | http，socket5专用                              |
| passWord     | 文本型 | 否   | 是   | http，socket5专用                              |
| secret       | 文本型 | 否   | 是   | Mtproto专用                                    |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 禁用代理

> 说明：禁用当前启用的代理。可以在授权之前调用。   
> 原名：TdProxy.disableProxy  
> 返回：逻辑型  

| 参数名   | 类型   | 传址 | 可空 | 说明     |
| -------- | ------ | ---- | ---- | -------- |
| clientId | 整数型 | 否   | 否   | 客户端ID |


---


### 编辑代理

> 说明：为网络请求编辑现有代理服务器。可以在授权之前调用。   
> 原名：TdProxy.editProxy  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| proxyId      | 整数型 | 否   | 否   | 代理标识符。                                   |
| server       | 文本型 | 否   | 否   | 代理服务器 IP 地址。                           |
| port         | 整数型 | 否   | 否   | 代理服务器端口。                               |
| proxyType    | 整数型 | 否   | 否   | 1：http                                        |
| userName     | 文本型 | 否   | 是   | http，socket5专用                              |
| passWord     | 文本型 | 否   | 是   | http，socket5专用                              |
| secret       | 文本型 | 否   | 是   | Mtproto专用                                    |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 启用代理

> 说明：一次只能启用一个代理。可以在授权之前调用。   
> 原名：TdProxy.enableProxy  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| proxyId      | 整数型 | 否   | 否   | 代理标识符。                                   |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 获取代理列表

> 说明：返回当前设置的代理的列表。可以在授权之前调用。   
> 原名：TdProxy.getProxies  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 获取代理链接

> 说明：返回可用于添加代理的HTTPS链接。仅适用于SOCKS5和MTProto代理。可以在授权之前调用。   
> 原名：TdProxy.getProxyLink  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| proxyId      | 整数型 | 否   | 否   | 代理标识符。                                   |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 测试代理

> 说明：计算通过代理从电报服务器接收响应所需的时间。可以在授权之前调用。   
> 原名：TdProxy.pingProxy  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| proxyId      | 整数型 | 否   | 否   | 代理标识符。                                   |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 删除代理

> 说明：删除代理服务器。可以在授权之前调用。   
> 原名：TdProxy.removeProxy  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| proxyId      | 整数型 | 否   | 否   | 代理标识符。                                   |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 测试代理与DC

> 说明：通过代理向Telegram服务器发送简单的网络请求;仅供测试。可以在授权前调用。   
> 原名：TdProxy.testProxy  
> 返回：逻辑型  

| 参数名       | 类型         | 传址 | 可空 | 说明                                                                                        |
| ------------ | ------------ | ---- | ---- | ------------------------------------------------------------------------------------------- |
| clientId     | 整数型       | 否   | 否   |                                                                                             |
| server       | 文本型       | 否   | 否   | 代理服务器 IP 地址。                                                                        |
| port         | 整数型       | 否   | 否   | 代理服务器端口。                                                                            |
| proxyType    | 整数型       | 否   | 否   | 1：http                                                                                     |
| userName     | 文本型       | 否   | 是   | http，socket5专用                                                                           |
| passWord     | 文本型       | 否   | 是   | http，socket5专用                                                                           |
| secret       | 文本型       | 否   | 是   | Mtproto专用                                                                                 |
| dcId         | 整数型       | 否   | 否   | DC1：美国-迈阿密，DC2：荷兰-阿姆斯特丹，DC3：美国-迈阿密，DC4：荷兰-阿姆斯特丹，DC5：新加坡 |
| timeout      | 双精度小数型 | 否   | 否   | 超时时间，秒                                                                                |
| isSync       | 逻辑型       | 否   | 是   | 是否同步执行，通过response返回结果。                                                        |
| responseData | 整数型       | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                              |
| responseLen  | 整数型       | 是   | 是   | 接口返回的结果长度                                                                          |


---



## TdChat
### 搜索聊天对象

> 说明：通过用户名或名称搜索聊天对象(必须是已知的聊天对象;通过向服务器查询)   
> 原名：TdChat.searchChatsOnServer  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| query        | 文本型 | 否   | 否   | 搜索字符串;宽文本或UTF8编码                    |
| limit        | 整数型 | 否   | 否   | 限定返回数量                                   |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 查询公共聊天

> 说明：通过用户名搜索公共聊天。目前，只有私人聊天、超级群组和频道可以是公共的。如果找到，则返回聊天对象；否则返回错误   
> 原名：TdChat.searchPublicChat  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| username     | 文本型 | 否   | 否   | 用户名                                         |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 搜索公共聊天

> 说明：通过用户名或标题搜索公共聊天。目前，只有私人聊天、超级群组和频道是公共的。返回匹配的结果。   
> 原名：TdChat.searchPublicChats  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| query        | 文本型 | 否   | 否   | 要搜索的字符串;宽文本或UTF8编码                |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 查询聊天对象

> 说明：通过聊天标识符返回聊天信息；如果当前用户不是机器人，则这是一个离线请求   
> 原名：TdChat.getChat  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                           |
| ------------ | -------- | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                       |
| chatId       | 长整数型 | 否   | 否   | 聊天对象ID                                     |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                             |


---


### 加载聊天列表

> 说明：加载聊天列表(登录后会自动加载，一般无需调用，除非你觉得聊天列表有缺失)。加载的聊天及其在聊天列表中的位置将通过更新发送。如果已加载所有聊天，则返回 404 错误。   
> 原名：TdChat.loadChats  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| listType     | 整数型 | 否   | 是   | 0：主列表，1：存档列表，2=文件夹；默认主列表   |
| chatFolderId | 整数型 | 否   | 是   | 当listType为文件夹时需要，传入文件夹Id         |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 获取聊天列表

> 说明：从数据库获取列表(加载聊天列表后才能使用)   
> 原名：TdChat.getChats  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| listType     | 整数型 | 否   | 是   | 0：主列表，1：存档列表，2=文件夹；默认主列表   |
| chatFolderId | 整数型 | 否   | 是   | 当listType为文件夹时需要，传入文件夹Id         |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 加载所有用户联系人

> 说明：返回所有用户联系人。   
> 原名：TdChat.getContacts  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---



## TdGroup
### 创建超级群

> 说明：创建新的超级组或频道并发送相应的messageSupergroupChatCreate。 返回新创建的聊天。   
> 原名：TdGroup.createNewSupergroupChat  
> 返回：逻辑型  

| 参数名                | 类型     | 传址 | 可空 | 说明                                                                                                 |
| --------------------- | -------- | ---- | ---- | ---------------------------------------------------------------------------------------------------- |
| clientId              | 整数型   | 否   | 否   | 客户端ID                                                                                             |
| title                 | 文本型   | 否   | 否   | 宽文本或utf8 聊天标题;1-128 个字符。                                                                 |
| description           | 文本型   | 否   | 是   | 宽文本或utf8 聊天描述;0-255 个字符。                                                                 |
| isForum               | 逻辑型   | 否   | 是   | 传递true以创建论坛超级群组聊天                                                                       |
| isChannel             | 逻辑型   | 否   | 是   | 传递true以创建频道聊天；如果创建了论坛，则忽略此选项                                                 |
| location              | 长整数型 | 否   | 是   | [chatLocation]对象Id；如果正在创建基于位置的超级群组，则为需要聊天位置；传递null以创建普通超级群组   |
| messageAutoDeleteTime | 整数型   | 否   | 是   | 消息自动删除时间值，以秒为单位；必须从0到365 * 86400，并且可被86400整除。如果为0，则消息不会自动删除 |
| forImport             | 逻辑型   | 否   | 是   | 传递true以创建一个用于使用importMessages导入消息的超级群组                                           |
| isSync                | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。                                                                 |
| responseData          | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                                       |
| responseLen           | 整数型   | 是   | 是   | 接口返回的结果长度                                                                                   |


---


### 加入聊天

> 说明：通过Id或邀请链接加入群聊。无法使用此方法加入私聊和秘密聊天。如果只创建了加入请求，可能会返回带有消息 "INVITE_REQUEST_SENT" 的错误。   
> 原名：TdGroup.joinChat  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                           |
| ------------ | -------- | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                       |
| chatId       | 长整数型 | 否   | 是   | 聊天标识符，二选一                             |
| inviteLink   | 文本型   | 否   | 是   | 邀请链接，二选一                               |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                             |


---


### 处理聊天加入请求

> 说明：处理聊天中待处理的加入请求。   
> 原名：TdGroup.processChatJoinRequest  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                           |
| ------------ | -------- | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                       |
| chatId       | 长整数型 | 否   | 否   | 聊天标识符                                     |
| userId       | 长整数型 | 否   | 否   | 成员标识符                                     |
| approve      | 逻辑型   | 否   | 否   | 是否同意加入                                   |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                             |


---



## TdOption
### 获取配置项

> 说明：获取客户端参数   
> 原名：TdOption.getOption  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| name         | 文本型 | 否   | 否   | 选项的名称                                     |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 设置用户在线状态

> 说明：设置用户在线状态(在线状态下会收到更多事件)   
> 原名：TdOption.setOnline  
> 返回：逻辑型  

| 参数名   | 类型   | 传址 | 可空 | 说明     |
| -------- | ------ | ---- | ---- | -------- |
| clientId | 整数型 | 否   | 否   | 客户端ID |
| value    | 逻辑型 | 否   | 否   | 值       |


---


### 设置逻辑型配置项

> 说明：配置客户端参数；可以用来储存少量数据，数据会持久化储存，且每个账号之间独立   
> 原名：TdOption.setOptionBool  
> 返回：逻辑型  

| 参数名   | 类型   | 传址 | 可空 | 说明                 |
| -------- | ------ | ---- | ---- | -------------------- |
| clientId | 整数型 | 否   | 否   | 客户端ID             |
| name     | 文本型 | 否   | 否   | 名称，必须以“x-”开头 |
| value    | 逻辑型 | 否   | 否   |                      |


---


### 设置空型配置项

> 说明：配置客户端参数；可以用来储存少量数据，数据会持久化储存，且每个账号之间独立   
> 原名：TdOption.setOptionEmpty  
> 返回：逻辑型  

| 参数名   | 类型   | 传址 | 可空 | 说明                 |
| -------- | ------ | ---- | ---- | -------------------- |
| clientId | 整数型 | 否   | 否   | 客户端ID             |
| name     | 文本型 | 否   | 否   | 名称，必须以“x-”开头 |


---


### 设置整型配置项

> 说明：配置客户端参数；可以用来储存少量数据，数据会持久化储存，且每个账号之间独立   
> 原名：TdOption.setOptionInteger  
> 返回：逻辑型  

| 参数名   | 类型     | 传址 | 可空 | 说明                 |
| -------- | -------- | ---- | ---- | -------------------- |
| clientId | 整数型   | 否   | 否   | 客户端ID             |
| name     | 文本型   | 否   | 否   | 名称，必须以“x-”开头 |
| value    | 长整数型 | 否   | 否   | 值                   |


---


### 设置字符型配置项

> 说明：配置客户端参数；可以用来储存少量数据，数据会持久化储存，且每个账号之间独立   
> 原名：TdOption.setOptionString  
> 返回：逻辑型  

| 参数名   | 类型   | 传址 | 可空 | 说明                 |
| -------- | ------ | ---- | ---- | -------------------- |
| clientId | 整数型 | 否   | 否   | 客户端ID             |
| name     | 文本型 | 否   | 否   | 名称，必须以“x-”开头 |
| value    | 文本型 | 否   | 否   | 值；宽文本或UTF8编码 |


---



## TdUser
### 获取自身信息

> 说明：获取自身信息   
> 原名：TdUser.getMe  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                           |
| ------------ | ------ | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                       |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                             |


---


### 获取用户信息

> 说明：根据用户标识符返回用户信息。如果当前用户不是机器人，则为离线请求   
> 原名：TdUser.getUser  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                           |
| ------------ | -------- | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                       |
| userId       | 长整数型 | 否   | 否   | 用户Id                                         |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                             |


---


### 获取用户完整信息

> 说明：根据用户标识符返回有关用户的完整信息   
> 原名：TdUser.getUserFullInfo  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                           |
| ------------ | -------- | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                       |
| userId       | 长整数型 | 否   | 否   | 用户Id                                         |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                             |


---



## TdObjectFactory
### FreeObject

> 说明：释放创建的对象   
> 原名：TdObjectFactory.FreeObject  
> 返回：  

| 参数名  | 类型     | 传址 | 可空 | 说明 |
| ------- | -------- | ---- | ---- | ---- |
| hObject | 长整数型 | 否   | 否   |      |


---


### linkPreviewOptions

> 说明：创建链接选项对象，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.linkPreviewOptions  
> 返回：长整数型  

| 参数名          | 类型   | 传址 | 可空 | 说明                                                                                                 |
| --------------- | ------ | ---- | ---- | ---------------------------------------------------------------------------------------------------- |
| isDisabled      | 逻辑型 | 否   | 是   | 是否禁用链接预览                                                                                     |
| url             | 文本型 | 否   | 是   | 用于链接预览的URL                                                                                    |
| forceSmallMedia | 逻辑型 | 否   | 是   | 如果显示的媒体预览必须是小的，则为True；在秘密聊天中被忽略，或者如果未明确指定URL                    |
| forceLargeMedia | 逻辑型 | 否   | 是   | 如果显示的媒体预览必须是大的，则为True；在秘密聊天中被忽略，或者如果未明确指定URL                    |
| showAboveText   | 逻辑型 | 否   | 是   | 如果链接预览必须显示在消息文本上方，则为True；否则，链接预览将显示在消息文本下方；在秘密聊天中被忽略 |


---


### inputMessageText

> 说明：继承：InputMessageContent；创建文本消息对象，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.inputMessageText  
> 返回：长整数型  

| 参数名             | 类型     | 传址 | 可空 | 说明                                                                                            |
| ------------------ | -------- | ---- | ---- | ----------------------------------------------------------------------------------------------- |
| text               | 文本型   | 否   | 否   | 宽文本或UTF8文本，发送内容                                                                      |
| parseMode          | 整数型   | 否   | 是   | 文本格式；0=无需解析                                                                            |
| linkPreviewOptions | 长整数型 | 否   | 是   | [linkPreviewOptions]对象，用于生成链接预览的选项；如果没有链接或使用默认链接预览选项，传递 null |


---


### inputMessagePhoto

> 说明：继承：InputMessageContent；创建图片消息对象，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.inputMessagePhoto  
> 返回：长整数型  

| 参数名                | 类型     | 传址 | 可空 | 说明                                                                                               |
| --------------------- | -------- | ---- | ---- | -------------------------------------------------------------------------------------------------- |
| inputFile             | 长整数型 | 否   | 否   | [InputFile]对象，用于描述图片实体                                                                  |
| inputThumbnail        | 长整数型 | 否   | 是   | [inputThumbnail]对象，要发送的照片缩略图；传递null以跳过缩略图上传。缩略图只在秘密聊天中发送给对方 |
| addedStickerFileIds   | 文本型   | 否   | 是   | 添加到照片中的贴纸的文件标识符列表，例如"[111111,222222,3333333]"                                  |
| width                 | 整数型   | 否   | 是   | 照片宽度                                                                                           |
| height                | 整数型   | 否   | 是   | 照片高度                                                                                           |
| caption               | 文本型   | 否   | 是   | 照片标题；宽文本或UTF8文本；传递null使用空标题；最大1024字符                                       |
| parseMode             | 整数型   | 否   | 是   | 文本格式；0=无需解析                                                                               |
| showCaptionAboveMedia | 逻辑型   | 否   | 是   | 如果标题必须显示在照片上方，则为True；否则，标题显示在照片下方；在秘密聊天中不支持                 |
| selfDestructType      | 长整数型 | 否   | 是   | [MessageSelfDestructType]对象，照片自毁类型；如果没有，则传递null；仅限私人聊天                    |
| hasSpoiler            | 逻辑型   | 否   | 是   | 如果照片预览必须由剧透动画覆盖，则为True；在秘密聊天中不支持                                       |


---


### inputMessageReplyToMessage

> 说明：继承：InputMessageReplyTo；创建消息回复对象，描述要回复的消息(来自相同的聊天或论坛主题)，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.inputMessageReplyToMessage  
> 返回：长整数型  

| 参数名    | 类型     | 传址 | 可空 | 说明                                                                                             |
| --------- | -------- | ---- | ---- | ------------------------------------------------------------------------------------------------ |
| messageId | 长整数型 | 否   | 否   | 要在相同的聊天和论坛主题中回复的消息标识符                                                       |
| quote     | 长整数型 | 否   | 是   | [inputTextQuote]对象，要回复的消息中的引用；如果没有则传递null。在秘密聊天中回复时必须始终为null |


---


### inputMessageReplyToExternalMessage

> 说明：继承：InputMessageReplyTo；创建外部消息回复对象，描述要回复的消息(来自不同的聊天或论坛主题)；在秘密聊天中不支持，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.inputMessageReplyToExternalMessage  
> 返回：长整数型  

| 参数名    | 类型     | 传址 | 可空 | 说明                                                                                                     |
| --------- | -------- | ---- | ---- | -------------------------------------------------------------------------------------------------------- |
| chatId    | 长整数型 | 否   | 否   | 要回复的消息所属的聊天标识符                                                                             |
| messageId | 长整数型 | 否   | 否   | 要在指定聊天中回复的消息标识符。只有当消息可以在另一个聊天或主题中回复时才能回复另一个聊天或主题中的消息 |
| quote     | 长整数型 | 否   | 是   | [inputTextQuote]对象，要回复的消息中的引用；如果没有则传递null。在秘密聊天中回复时必须始终为null         |


---


### inputMessageReplyToStory

> 说明：继承：InputMessageReplyTo；创建故事消息回复对象，描述要回复的故事，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.inputMessageReplyToStory  
> 返回：长整数型  

| 参数名            | 类型     | 传址 | 可空 | 说明                                                                       |
| ----------------- | -------- | ---- | ---- | -------------------------------------------------------------------------- |
| storySenderChatId | 长整数型 | 否   | 否   | 故事发送者的标识符。目前，只能在发送者的聊天中回复故事，频道的故事无法回复 |
| storyId           | 长整数型 | 否   | 否   | 故事的标识符                                                               |


---


### messageSendOptions

> 说明：创建消息发送选项对象，描述要回复的消息(来自相同的聊天或论坛主题)，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.messageSendOptions  
> 返回：长整数型  

| 参数名                            | 类型     | 传址 | 可空 | 说明                                                                                                                       |
| --------------------------------- | -------- | ---- | ---- | -------------------------------------------------------------------------------------------------------------------------- |
| disableNotification               | 逻辑型   | 否   | 是   | 传递 true 以禁用消息通知                                                                                                   |
| fromBackground                    | 逻辑型   | 否   | 是   | 如果消息是从后台发送的,则传递 true                                                                                         |
| protectContent                    | 逻辑型   | 否   | 是   | 如果必须保护消息内容不被转发和保存,则传递 true；仅适用于机器人                                                             |
| updateOrderOfInstalledStickerSets | 逻辑型   | 否   | 是   | 如果用户从已安装的贴纸集中明确选择了贴纸或自定义表情符号,则传递 true；仅适用于 sendMessage 和 sendMessageAlbum             |
| schedulingState                   | 长整数型 | 否   | 是   | [MessageSchedulingState]对象，消息调度状态；传递 null 以立即发送消息。无法安排发送到秘密聊天的消息、实时位置消息和自毁消息 |
| effectId                          | 长整数型 | 否   | 是   | 应用于消息的效果的标识符；如果没有,则传递 0；仅适用于私人聊天中的 sendMessage 和 sendMessageAlbum                          |
| sendingId                         | 长整数型 | 否   | 是   | 非持久标识符,将在 messageSendingStatePending 对象中返回,可用于匹配已发送消息和相应的 updateNewMessage 更新                 |
| onlyPreview                       | 逻辑型   | 否   | 是   | 传递 true 以获取预览消息而不是实际发送它们                                                                                 |


---


### inputFileId

> 说明：继承：InputFile；创建文件对象，指向一个文件，通过其唯一标识符定义的文件，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.inputFileId  
> 返回：长整数型  

| 参数名 | 类型   | 传址 | 可空 | 说明           |
| ------ | ------ | ---- | ---- | -------------- |
| id     | 整数型 | 否   | 否   | 唯一文件标识符 |


---


### inputFileLocal

> 说明：继承：InputFile；创建本地文件对象，指向一个文件，通过本地路径定义的文件，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.inputFileLocal  
> 返回：长整数型  

| 参数名 | 类型   | 传址 | 可空 | 说明                                     |
| ------ | ------ | ---- | ---- | ---------------------------------------- |
| path   | 文本型 | 否   | 否   | 文件的本地路径； ”/“ 需自行转义成-> ”//“ |


---


### inputFileRemote

> 说明：继承：InputFile；创建远程文件对象，指向一个文件，通过远程标识符定义的文件；远程标识符只有在相应文件仍然对用户可访问且框架曾经加载过的情况下才保证可用。例如，如果文件来自消息，则消息必须未被删除且对用户可访问。如果框架文件数据库被禁用，则必须由应用程序预加载包含该文件的相应对象。成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.inputFileRemote  
> 返回：长整数型  

| 参数名 | 类型   | 传址 | 可空 | 说明           |
| ------ | ------ | ---- | ---- | -------------- |
| id     | 文本型 | 否   | 否   | 远程文件标识符 |


---


### callbackQueryPayloadData

> 说明：继承：CallbackQueryPayload；创建回调查询对象，表示回调查询的负载，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.callbackQueryPayloadData  
> 返回：长整数型  

| 参数名 | 类型   | 传址 | 可空 | 说明                 |
| ------ | ------ | ---- | ---- | -------------------- |
| data   | 文本型 | 否   | 否   | 附加到回调按钮的数据 |


---


### callbackQueryPayloadDataWithPassword

> 说明：继承：CallbackQueryPayload；创建带密码回调查询对象，表示需要密码的回调按钮的负载，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.callbackQueryPayloadDataWithPassword  
> 返回：长整数型  

| 参数名   | 类型   | 传址 | 可空 | 说明                  |
| -------- | ------ | ---- | ---- | --------------------- |
| password | 文本型 | 否   | 否   | 当前用户的2步验证密码 |
| data     | 文本型 | 否   | 否   | 附加到回调按钮的数据  |


---


### callbackQueryPayloadGame

> 说明：继承：CallbackQueryPayload；创建游戏回调查询对象，表示游戏回调按钮的负载，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.callbackQueryPayloadGame  
> 返回：长整数型  

| 参数名        | 类型   | 传址 | 可空 | 说明                       |
| ------------- | ------ | ---- | ---- | -------------------------- |
| gameShortName | 文本型 | 否   | 否   | 附加到回调按钮的游戏的简称 |


---


### chatAdministratorRights

> 说明：；创建聊天管理员权限对象，描述管理员的权限，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.chatAdministratorRights  
> 返回：长整数型  

| 参数名              | 类型   | 传址 | 可空 | 说明                                                                                                                                                             |
| ------------------- | ------ | ---- | ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canManageChat       | 逻辑型 | 否   | 是   | 如果管理员可以访问聊天事件日志、获取提升列表、查看隐藏的超级群组和频道成员、报告超级群组垃圾邮件并忽略慢模式，则为真。由任何其他特权暗示；仅适用于超级群组和频道 |
| canChangeInfo       | 逻辑型 | 否   | 是   | 如果管理员可以更改聊天标题、照片和其他设置，则为真                                                                                                               |
| canPostMessages     | 逻辑型 | 否   | 是   | 如果管理员可以创建频道帖子或查看频道统计信息，则为真；仅适用于频道                                                                                               |
| canEditMessages     | 逻辑型 | 否   | 是   | 如果管理员可以编辑其他用户的消息并固定消息，则为真；仅适用于频道                                                                                                 |
| canDeleteMessages   | 逻辑型 | 否   | 是   | 如果管理员可以删除其他用户的消息，则为真                                                                                                                         |
| canInviteUsers      | 逻辑型 | 否   | 是   | 如果管理员可以邀请新用户加入聊天，则为真                                                                                                                         |
| canRestrictMembers  | 逻辑型 | 否   | 是   | 如果管理员可以限制、禁止或解除禁止聊天成员或查看超级群组统计信息，则为真；对频道始终为真                                                                         |
| canPinMessages      | 逻辑型 | 否   | 是   | 如果管理员可以固定消息，则为真；仅适用于基本群组和超级群组                                                                                                       |
| canManageTopics     | 逻辑型 | 否   | 是   | 如果管理员可以创建、重命名、关闭、重新打开、隐藏和取消隐藏论坛主题，则为真；仅适用于论坛超级群组                                                                 |
| canPromoteMembers   | 逻辑型 | 否   | 是   | 如果管理员可以添加具有其部分权限的新管理员或降级直接或间接由其提升的管理员，则为真                                                                               |
| canManageVideoChats | 逻辑型 | 否   | 是   | 如果管理员可以管理视频聊天，则为真                                                                                                                               |
| canPostStories      | 逻辑型 | 否   | 是   | 如果管理员可以创建新的聊天故事，或编辑和删除发布的故事，则为真；仅适用于超级群组和频道                                                                           |
| canEditStories      | 逻辑型 | 否   | 是   | 如果管理员可以编辑其他用户发布的故事，将故事发布到聊天页面，固定聊天故事并访问故事存档，则为真；仅适用于超级群组和频道                                           |
| canDeleteStories    | 逻辑型 | 否   | 是   | 如果管理员可以删除其他用户发布的故事，则为真；仅适用于超级群组和频道                                                                                             |
| isAnonymous         | 逻辑型 | 否   | 是   | 如果管理员不在聊天成员列表中显示并匿名发送消息，则为真；仅适用于超级群组                                                                                         |


---


### chatPermissions

> 说明：；创建聊天用户权限对象，描述用户在聊天中允许执行的操作，成功返回对象Id，失败返回0；若对象不再使用，需要调用FreeObject销毁   
> 原名：TdObjectFactory.chatPermissions  
> 返回：长整数型  

| 参数名               | 类型   | 传址 | 可空 | 说明                                                                         |
| -------------------- | ------ | ---- | ---- | ---------------------------------------------------------------------------- |
| canSendBasicMessages | 逻辑型 | 否   | 是   | 如果用户可以发送文本消息、联系人、赠品、赠品获奖者、发票、位置和场所，则为真 |
| canSendAudios        | 逻辑型 | 否   | 是   | 如果用户可以发送音乐文件，则为真                                             |
| canSendDocuments     | 逻辑型 | 否   | 是   | 如果用户可以发送文档，则为真                                                 |
| canSendPhotos        | 逻辑型 | 否   | 是   | 如果用户可以发送照片，则为真                                                 |
| canSendVideos        | 逻辑型 | 否   | 是   | 如果用户可以发送视频，则为真                                                 |
| canSendVideoNotes    | 逻辑型 | 否   | 是   | 如果用户可以发送视频笔记，则为真                                             |
| canSendVoiceNotes    | 逻辑型 | 否   | 是   | 如果用户可以发送语音笔记，则为真                                             |
| canSendPolls         | 逻辑型 | 否   | 是   | 如果用户可以发送投票，则为真                                                 |
| canSendOtherMessages | 逻辑型 | 否   | 是   | 如果用户可以发送动画、游戏、贴纸和骰子并使用内联机器人，则为真               |
| canAddLinkPreviews   | 逻辑型 | 否   | 是   | 如果用户可以为其消息添加链接预览，则为真                                     |
| canChangeInfo        | 逻辑型 | 否   | 是   | 如果用户可以更改聊天标题、照片和其他设置，则为真                             |
| canInviteUsers       | 逻辑型 | 否   | 是   | 如果用户可以邀请新用户加入聊天，则为真                                       |
| canPinMessages       | 逻辑型 | 否   | 是   | 如果用户可以固定消息，则为真                                                 |
| canCreateTopics      | 逻辑型 | 否   | 是   | 如果用户可以创建主题，则为真                                                 |


---



## TdMessageSent
### 发送消息

> 说明：发送任意类型消息   
> 原名：TdMessageSent.sendMessage  
> 返回：逻辑型  

| 参数名              | 类型     | 传址 | 可空 | 说明                                                                                     |
| ------------------- | -------- | ---- | ---- | ---------------------------------------------------------------------------------------- |
| clientId            | 整数型   | 否   | 否   | 客户端ID                                                                                 |
| chatId              | 长整数型 | 否   | 否   | 聊天标识符                                                                               |
| inputMessageContent | 长整数型 | 否   | 否   | [InputMessageContent]对象Id；描述想要发送消息的内容与类型；                              |
| messageThreadId     | 长整数型 | 否   | 是   | 聊天讨论标识符；如果没有，则传递 null                                                    |
| replyTo             | 长整数型 | 否   | 是   | [InputMessageReplyTo]对象Id；有关要回复的消息或故事的信息；如果没有，则传递 null         |
| options             | 长整数型 | 否   | 是   | [messageSendOptions]对象Id；用于发送消息的选项；如果使用默认选项，则传递 null            |
| replyMarkup         | 长整数型 | 否   | 是   | [ReplyMarkup]对象Id；回复消息的标记，键盘，按钮等；仅适用于机器人；如果没有，则传递 null |
| isSync              | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。                                                     |
| responseData        | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                           |
| responseLen         | 整数型   | 是   | 是   | 接口返回的结果长度                                                                       |


---


### 发送原始消息

> 说明：发送任意类型消息；sendMessage的底层实现；在一般情况下，跳过繁琐的字段组装，直接提交二进制数据进行发送会更加高效   
> 原名：TdMessageSent.sendMessageRaw  
> 返回：逻辑型  

| 参数名       | 类型   | 传址 | 可空 | 说明                                                                                                                                                                 |
| ------------ | ------ | ---- | ---- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| clientId     | 整数型 | 否   | 否   | 客户端ID                                                                                                                                                             |
| pReq         | 整数型 | 否   | 否   | 请求体指针；应该以0结尾；如果isSync为真，则请求体必须包含"@extra": "{{request_id}}"；如果isSync为假，则请求体必须包含"@extra": "@ASyncTask"；文件路径用“/”作为分隔符 |
| pLen         | 整数型 | 否   | 否   | 请求体长度；长度应该包含末尾0                                                                                                                                        |
| parseName    | 文本型 | 否   | 是   | formattedText对象所在的字段名，用于格式化其中的富文本，文本消息，图片消息，付费媒体消息，或无需解析，传递null；                                                      |
| parseMode    | 整数型 | 否   | 是   | 0=无需解析                                                                                                                                                           |
| isSync       | 逻辑型 | 否   | 是   | 是否同步执行，通过response返回结果。                                                                                                                                 |
| responseData | 整数型 | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                                                                                                       |
| responseLen  | 整数型 | 是   | 是   | 接口返回的结果长度                                                                                                                                                   |


---


### 发送文本消息

> 说明：发送文本消息；便捷版发送消息，如果需要配置更多发送消息中的参数，请查看sendMessage，sendMessageRaw   
> 原名：TdMessageSent.sendMessageText  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                           |
| ------------ | -------- | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                       |
| chatId       | 长整数型 | 否   | 否   | 聊天标识符                                     |
| text         | 文本型   | 否   | 否   | 宽文本或UTF8文本，发送内容；最大4096字符       |
| parseMode    | 整数型   | 否   | 是   | 0=无需解析                                     |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                             |


---


### 发送图片消息

> 说明：发送图片消息；便捷版发送消息，如果需要配置更多发送消息中的参数，请查看sendMessage，sendMessageRaw   
> 原名：TdMessageSent.sendMessagePhoto  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                                         |
| ------------ | -------- | ---- | ---- | ------------------------------------------------------------ |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                                     |
| chatId       | 长整数型 | 否   | 否   | 聊天标识符                                                   |
| filePath     | 文本型   | 否   | 否   | 文件的本地路径； ”/“ 需自行转义成-> ”//“；宽文本或UTF8文本   |
| caption      | 文本型   | 否   | 是   | 照片标题；宽文本或UTF8文本；传递null使用空标题；最大1024字符 |
| parseMode    | 整数型   | 否   | 是   | 0=无需解析                                                   |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。                         |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放               |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                                           |


---



## TdMessageFormat
### 转换为Markdown文本

> 说明：将消息实体转换成方便阅读的 Markdown 格式。无法在 Markdown 中明确表示的实体将保持原样。可以同步调用。返回的指针将在下次调用同步接口后失效。   
> 原名：TdMessageFormat.getMarkdownText  
> 返回：整数型  

| 参数名   | 类型   | 传址 | 可空 | 说明                 |
| -------- | ------ | ---- | ---- | -------------------- |
| text     | 文本型 | 否   | 否   | 宽文本或UTF8文本     |
| entities | 文本型 | 否   | 否   | 消息中的entities字段 |


---



## TdMessageEdit
### 编辑媒体消息标题

> 说明：编辑图片或视频消息的标题与按钮   
> 原名：TdMessageEdit.editMessageCaption  
> 返回：逻辑型  

| 参数名                | 类型     | 传址 | 可空 | 说明                                                                                     |
| --------------------- | -------- | ---- | ---- | ---------------------------------------------------------------------------------------- |
| clientId              | 整数型   | 否   | 否   | 客户端ID                                                                                 |
| chatId                | 长整数型 | 否   | 否   | 聊天标识符                                                                               |
| messageId             | 长整数型 | 否   | 否   | 消息Id                                                                                   |
| caption               | 文本型   | 否   | 是   | 标题；宽文本或UTF8文本；传递null使用空标题；最大1024字符                                 |
| parseMode             | 整数型   | 否   | 是   | 0=无需解析                                                                               |
| replyMarkup           | 长整数型 | 否   | 是   | [ReplyMarkup]对象Id；回复消息的标记，键盘，按钮等；仅适用于机器人；如果没有，则传递 null |
| showCaptionAboveMedia | 逻辑型   | 否   | 是   | 如果标题必须显示在照片上方，则为True；否则，标题显示在照片下方；在秘密聊天中不支持       |
| isSync                | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。                                                     |
| responseData          | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                           |
| responseLen           | 整数型   | 是   | 是   | 接口返回的结果长度                                                                       |


---



## TdAccountMap
### GetClient

> 说明：根据账号Id获取实例Id   
> 原名：TdAccountMap.GetClient  
> 返回：整数型  

| 参数名    | 类型     | 传址 | 可空 | 说明   |
| --------- | -------- | ---- | ---- | ------ |
| accountId | 长整数型 | 否   | 否   | 账号Id |


---


### GetClientByAccount

> 说明：根据账号获取实例Id   
> 原名：TdAccountMap.GetClientByAccount  
> 返回：整数型  

| 参数名  | 类型   | 传址 | 可空 | 说明 |
| ------- | ------ | ---- | ---- | ---- |
| account | 文本型 | 否   | 否   | 账号 |


---


### GetAccountId

> 说明：根据实例Id获取账号Id   
> 原名：TdAccountMap.GetAccountId  
> 返回：长整数型  

| 参数名   | 类型   | 传址 | 可空 | 说明   |
| -------- | ------ | ---- | ---- | ------ |
| clientId | 整数型 | 否   | 否   | 实例Id |


---



## TdChatMember
### 获取超级群成员列表

> 说明：返回超级群组或频道中的成员或被封禁用户的信息。仅当 supergroupFullInfo.can_get_members == true 时才能使用;此外，某些筛选器可能需要管理员权限。   
> 原名：TdChatMember.getSupergroupMembers  
> 返回：逻辑型  

| 参数名          | 类型     | 传址 | 可空 | 说明                                                                                                                                                                                                                                                                                                             |
| --------------- | -------- | ---- | ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| clientId        | 整数型   | 否   | 否   | 客户端ID                                                                                                                                                                                                                                                                                                         |
| type            | 整数型   | 否   | 否   | 1=返回可在超组中提及的用户。2=返回用户的联系人，这些联系人是超组或频道的成员。3=通过字符串查询搜索超级组或频道成员。4=按时间倒序返回最近活跃的用户。11=返回所有者和管理员。12=返回超级组或频道的机器人成员。101=返回被禁止进入超级群组或频道的用户;只能由管理员使用。102=返回受限制的超组成员;只能由管理员使用。 |
| supergroupId    | 长整数型 | 否   | 否   | 超级组或频道的标识符                                                                                                                                                                                                                                                                                             |
| limit           | 整数型   | 否   | 是   | 一次返回的数量，最大200; 默认100                                                                                                                                                                                                                                                                                 |
| offset          | 整数型   | 否   | 是   | 要跳过的用户数; 默认0                                                                                                                                                                                                                                                                                            |
| query           | 文本型   | 否   | 是   | 查询字符串，仅在部分类型中可用；宽文本或UTF8文本                                                                                                                                                                                                                                                                 |
| messageThreadId | 长整数型 | 否   | 是   | 当type为1=返回可在超组中提及的用户时可用，当前聊天讨论Id                                                                                                                                                                                                                                                         |
| isSync          | 逻辑型   | 否   | 是   | 是否同步执行，通过Result返回结果                                                                                                                                                                                                                                                                                 |
| responseData    | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                                                                                                                                                                                                                                                   |
| responseLen     | 整数型   | 是   | 是   | 接口返回的结果长度                                                                                                                                                                                                                                                                                               |


---


### 封禁群成员

> 说明：在聊天中封禁(同时踢出)成员，除非先解除禁令，否则用户将无法使用邀请链接等自行返回群组；需要can_restrict_members管理员权限；不支持基本群组和频道；   
> 原名：TdChatMember.banChatMember  
> 返回：逻辑型  

| 参数名          | 类型     | 传址 | 可空 | 说明                                                                                                    |
| --------------- | -------- | ---- | ---- | ------------------------------------------------------------------------------------------------------- |
| clientId        | 整数型   | 否   | 否   | 客户端ID                                                                                                |
| chatId          | 长整数型 | 否   | 否   | 聊天标识符                                                                                              |
| userId          | 长整数型 | 否   | 否   | 成员标识符                                                                                              |
| bannedUntilDate | 整数型   | 否   | 是   | 默认永久封禁；用户将被解除禁令的Unix时间戳；如果超过366天或少于30秒，则用户被视为永久禁用。仅限超级群； |
| revokeMessages  | 逻辑型   | 否   | 是   | 默认true；传递true以删除被移除用户在聊天中的所有消息。对于超级群组和频道始终为true；                    |
| isSync          | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。                                                                    |
| responseData    | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                                          |
| responseLen     | 整数型   | 是   | 是   | 接口返回的结果长度                                                                                      |


---


### 解封群成员

> 说明：解除对群成员的封禁；需要can_restrict_members管理员权限；不支持基本群组和频道   
> 原名：TdChatMember.unBanChatMember  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                           |
| ------------ | -------- | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                       |
| chatId       | 长整数型 | 否   | 否   | 聊天标识符                                     |
| userId       | 长整数型 | 否   | 否   | 成员标识符                                     |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                             |


---


### 踢出群成员

> 说明：踢出群成员；需要can_restrict_members管理员权限。   
> 原名：TdChatMember.kickChatMember  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                           |
| ------------ | -------- | ---- | ---- | ---------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                       |
| chatId       | 长整数型 | 否   | 否   | 聊天标识符                                     |
| userId       | 长整数型 | 否   | 否   | 成员标识符                                     |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。           |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放 |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                             |


---


### 限制群成员

> 说明：使用户在聊天中受到某些限制；需要can_restrict_members管理员权限；不支持基本群组和频道；   
> 原名：TdChatMember.restrictChatMember  
> 返回：逻辑型  

| 参数名              | 类型     | 传址 | 可空 | 说明                                                                                |
| ------------------- | -------- | ---- | ---- | ----------------------------------------------------------------------------------- |
| clientId            | 整数型   | 否   | 否   | 客户端ID                                                                            |
| chatId              | 长整数型 | 否   | 否   | 聊天标识符                                                                          |
| userId              | 长整数型 | 否   | 否   | 成员标识符                                                                          |
| isMember            | 逻辑型   | 否   | 是   | 如果用户是聊天成员，则为true                                                        |
| restrictedUntilDate | 整数型   | 否   | 是   | 用户的限制被解除的Unix时间戳；如果用户被限制超过366天或从少于30秒，则视为永久限制； |
| permissions         | 长整数型 | 否   | 是   | [chatPermissions]对象Id；用户在聊天中的权限；                                       |
| isSync              | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。                                                |
| responseData        | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                      |
| responseLen         | 整数型   | 是   | 是   | 接口返回的结果长度                                                                  |


---


### 设置管理员

> 说明：在基本群组中，管理员可以编辑和删除他人发送的消息，添加新成员，禁止无特权成员，并管理视频聊天；在超级群组和频道中，管理员特权有更详细的选项；需要can_promote_members管理员权限；   
> 原名：TdChatMember.setAdministratorChatMember  
> 返回：逻辑型  

| 参数名       | 类型     | 传址 | 可空 | 说明                                                                             |
| ------------ | -------- | ---- | ---- | -------------------------------------------------------------------------------- |
| clientId     | 整数型   | 否   | 否   | 客户端ID                                                                         |
| chatId       | 长整数型 | 否   | 否   | 聊天标识符                                                                       |
| userId       | 长整数型 | 否   | 否   | 成员标识符                                                                       |
| customTitle  | 文本型   | 否   | 是   | 宽文本或UTF8文本；管理员的自定义标题；0-16个字符，不含表情符号；仅适用于超级群组 |
| canBeEdited  | 逻辑型   | 否   | 是   | 如果当前用户可以编辑被调用用户的管理员特权，则为true                             |
| rights       | 长整数型 | 否   | 是   | [chatAdministratorRights]对象Id；管理员的权限                                    |
| isSync       | 逻辑型   | 否   | 是   | 是否同步执行，通过response返回结果。                                             |
| responseData | 整数型   | 是   | 是   | 接口返回的结果指针，该指针需要通过Free方法释放                                   |
| responseLen  | 整数型   | 是   | 是   | 接口返回的结果长度                                                               |


---



